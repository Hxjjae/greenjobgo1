"use strict";(self.webpackChunkgreenjobgo_admin=self.webpackChunkgreenjobgo_admin||[]).push([[888],{9888:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});var a,l,o,s=t(7313),c=t(168),r=t(7711),i=t(3607);const d=r.Z.div(a||(a=(0,c.Z)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  .company-title {\n    width: 1400px;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    height: 60px;\n    h3 {\n      margin: 30px 0;\n      font-size: 24px;\n      letter-spacing: -0.96px;\n      color: ",";\n    }\n  }\n"])),i.Iy.black),p=r.Z.div(l||(l=(0,c.Z)(["\n  .company-search {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 1400px;\n    height: 95px;\n    border-radius: 6px;\n    background: ",";\n    gap: 10px;\n    > li {\n      line-height: 1;\n      .company-form {\n        display: flex;\n        gap: 5px;\n        input {\n          padding-left: 10px;\n          width: 725px;\n          height: 40px;\n          border: 1px solid ",";\n          border-radius: 3px;\n        }\n      }\n      > button {\n        width: 140px;\n        height: 40px;\n        cursor: pointer;\n        border: none;\n        border-radius: 5px;\n        background: ",";\n        color: #fff;\n      }\n    }\n  }\n  .company-buttons {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    gap: 5px;\n    margin-top: 40px;\n    margin-bottom: 0;\n\n    button {\n      color: #fff;\n      background: ",";\n      border: none;\n      border-radius: 5px;\n      cursor: pointer;\n      :first-of-type {\n        background: ",";\n        width: 105px;\n        height: 40px;\n      }\n      :nth-of-type(2) {\n        background: ",";\n        width: 105px;\n        height: 40px;\n      }\n      :nth-of-type(3) {\n        background: ",";\n        width: 105px;\n        height: 40px;\n      }\n      :nth-of-type(4) {\n        background: ",";\n        width: 105px;\n        height: 40px;\n      }\n    }\n  }\n  .total-count {\n    font-size: 14px;\n    color: #888888;\n    height: 14px;\n    line-height: 14px;\n    margin-bottom: 10px;\n  }\n"])),i.Iy.search,i.Iy.input,i.Iy.btn,i.Iy.btn,i.Iy.input,i.Iy.btn,i.Iy.admintxt,i.Iy.admintxt),h=r.Z.div(o||(o=(0,c.Z)(["\n  position: relative;\n  width: 1400px;\n  height: 54vh;\n  text-align: center;\n  overflow: hidden;\n  background: #fff;\n  > ul {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: repeat(11, 43px);\n    border-top: 1px solid ",";\n    > li {\n      line-height: 42px;\n      border: 1px solid ",";\n      border-bottom: none;\n      :first-of-type {\n        background: ",";\n        color: ",";\n        border-top: 0;\n      }\n      :last-of-type {\n        border-bottom: 1px solid ",";\n      }\n      > ul {\n        height: 100%;\n        display: grid;\n        grid-template-columns: 0.15fr 0.2fr 0.5fr 1.2fr 0.4fr 0.4fr 0.45fr 0.55fr 0.9fr;\n        > li {\n          > a {\n            color: ",";\n            :hover {\n              color: ",";\n            }\n          }\n          padding: 0 5px;\n          ","\n          :not(:first-of-type,:last-of-type) {\n            cursor: pointer;\n          }\n          :not(:last-of-type) {\n            border-bottom: none;\n            border-right: 1px solid ",";\n          }\n        }\n        .check-box-li,\n        .company-table-th {\n          cursor: default;\n        }\n      }\n    }\n  }\n"])),i.Iy.sectiontitle,i.Iy.sectiontitle,i.Iy.search,i.Iy.black,i.Iy.sectiontitle,i.Iy.black,i.Iy.admintxt,i.LH.one,i.Iy.sectiontitle);var x=t(9117),u=t(1068),m=t(6417);const g=e=>{let{listData:n,handleAllCheck:t,handleCheckBox:a,page:l,acceptOkModal:o,setAcceptOkModal:c,uploadResult:r,setUpLoadResult:i,fetchData:d,setErrorApiInfo:p}=e;const[h,x]=(0,s.useState)(!1),[g,y]=(0,s.useState)(null);return(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{className:"company-list",children:(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{className:"company-table-th",children:(0,m.jsx)("input",{type:"checkbox",name:"all-check-box",onChange:e=>t(e),className:"all-checkbox-btn"})}),(0,m.jsx)("li",{className:"company-table-th",children:"\ubc88\ud638"}),(0,m.jsx)("li",{className:"company-table-th",children:"\uc9c0\uc5ed"}),(0,m.jsx)("li",{className:"company-table-th",children:"\uae30\uc5c5\uba85"}),(0,m.jsx)("li",{className:"company-table-th",children:"\ub300\ud45c\uba85"}),(0,m.jsx)("li",{className:"company-table-th",children:"\ub2f4\ub2f9\uc790"}),(0,m.jsx)("li",{className:"company-table-th",children:"\uc5f0\ub77d\ucc98"}),(0,m.jsx)("li",{className:"company-table-th",children:"\uccb4\uacb0\uc77c\uc790"}),(0,m.jsx)("li",{className:"company-table-th",children:"\ud648\ud398\uc774\uc9c0"})]})}),n.length>0&&n.map(((e,n)=>(0,m.jsx)("li",{onClick:n=>!n.target.classList.contains("check-box-li")&&(y(e),void x(!0)),children:(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{className:"check-box-li",children:(0,m.jsx)("input",{type:"checkbox",name:"check-box",defaultChecked:!1,className:"company-checkbox userId".concat(e.companyCode),onChange:e=>a(e),onClick:e=>e.stopPropagation()})}),(0,m.jsx)("li",{children:10*(l-1)+n+1}),(0,m.jsx)("li",{children:e.area}),(0,m.jsx)("li",{children:e.companyName}),(0,m.jsx)("li",{children:e.leaderName}),(0,m.jsx)("li",{children:e.manager}),(0,m.jsx)("li",{children:e.phoneNumber}),(0,m.jsx)("li",{children:e.dateConslusion}),(0,m.jsx)("li",{className:"check-box-li",onClick:e=>e.stopPropagation(),children:(0,m.jsx)("a",{href:"https://".concat(e.homepage),target:"_blank",rel:"noopener noreferrer",children:e.homepage})})]})},e.companyCode))),h&&(0,m.jsx)(u.iy,{companyInfo:g,editModalOpen:h,setEditModalOpen:x,handleModalCancel:()=>{x(!1),document.body.style.overflow="unset"},acceptOkModal:o,setAcceptOkModal:c,uploadResult:r,setUpLoadResult:i,fetchData:d,setErrorApiInfo:p})]})},y=e=>{let{search:n,setSearch:t,handleSearch:a}=e;return(0,m.jsxs)("ul",{className:"company-search",children:[(0,m.jsx)("li",{children:(0,m.jsx)("div",{className:"company-form",children:(0,m.jsx)("input",{type:"text",placeholder:"\uae30\uc5c5 \uc774\ub984\uc744 \uac80\uc0c9\ud558\uc138\uc694.",name:"category-state",value:n,onChange:e=>t(e.target.value),onKeyDown:e=>{"Enter"===e.key&&a()}})})}),(0,m.jsx)("li",{children:(0,m.jsx)("button",{onClick:a,children:"\uac80\uc0c9"})})]})};var b=t(259),f=(t(4049),t(7548)),j=t(1309),k=t(9122);const N=e=>{let{page:n,setPage:t,count:a}=e;return(0,m.jsx)(k.G,{children:(0,m.jsx)(f.Z,{activePage:n,itemsCountPerPage:10,totalItemsCount:a,pageRangeDisplayed:10,marginPagesDisplayed:0,prevPageText:(0,m.jsx)(b.G,{icon:j.A35}),nextPageText:(0,m.jsx)(b.G,{icon:j._tD}),firstPageText:"",lastPageText:"",onChange:t})})};var S=t(3564),C=t(6702),I=t(7391);const v=()=>{const[e,n]=(0,s.useState)(!1),[t,a]=(0,s.useState)([]),[l,o]=(0,s.useState)([]),[c,r]=(0,s.useState)(1),[i,b]=(0,s.useState)(0),[f,j]=(0,s.useState)(""),[k,v]=(0,s.useState)(""),[E,w]=(0,s.useState)(!1),[M,O]=(0,s.useState)(!1),[A,P]=(0,s.useState)(!1),[D,Z]=(0,s.useState)(!1),[L,R]=(0,s.useState)(null),[$,U]=(0,s.useState)(!1),[T,_]=(0,s.useState)(!1),[B,F]=(0,s.useState)(null),[q,G]=(0,s.useState)(!1),[z,H]=(0,s.useState)(""),[K,V]=(0,s.useState)(""),[J,Q]=(0,s.useState)(""),[W,X]=(0,s.useState)(""),[Y,ee]=(0,s.useState)(""),[ne,te]=(0,s.useState)(""),[ae,le]=(0,s.useState)(!1),[oe,se]=(0,s.useState)(""),[ce,re]=(0,s.useState)({area:"",companyName:"",leaderName:"",homepage:"",manager:"",phoneNumber:"",dateConslusion:""});let ie=l;const de=async()=>{await(0,x.m_)(a,b,c,f,se,n)};(0,s.useEffect)((()=>{de()}),[c]),(0,s.useEffect)((()=>{document.querySelector(".all-checkbox-btn").checked=!1,document.querySelectorAll(".company-checkbox").forEach((e=>e.checked=!1)),o([])}),[t]);const pe=(e=>{try{return 11===(e=e.replace(/\s/gi,"")).length?e.replace(/(\d{3})(\d{4})(\d{4})/,"$1-$2-$3"):10===e.length?e.replace(/(\d{3})(\d{4})(\d{3})/,"$1-$2-$3"):/^02/.test(e)&&9===e.length?e.replace(/(\d{2})(\d{3})(\d{4})/,"$1-$2-$3"):e}catch(n){return e}})(ce.phoneNumber);return(0,s.useEffect)((()=>{le(!!oe)}),[oe]),(0,m.jsxs)(d,{children:[(0,m.jsx)("div",{className:"company-title",children:(0,m.jsx)("h3",{children:"\uae30\uc5c5 \ub4f1\ub85d \xb7 \uad00\ub9ac"})}),(0,m.jsxs)(p,{children:[(0,m.jsx)(y,{category:k,handleCategoryFiiter:e=>{v(e.target.value),r(1)},search:f,setSearch:j,handleSearch:()=>{r(1),de()}}),E&&(0,m.jsx)(u.bZ,{modalOpen:E,setModalOpen:w,payload:ce,setPayload:re,handleModalAccept:async()=>{try{V(ce.companyName?"":"\uae30\uc5c5\uba85\uc744 \uc785\ub825 \ud574 \uc8fc\uc138\uc694."),H(ce.area?"":"\uc9c0\uc5ed\uc744 \uc785\ub825 \ud574 \uc8fc\uc138\uc694."),Q(ce.leaderName?"":"\ub300\ud45c\uba85\uc744 \uc785\ub825 \ud574 \uc8fc\uc138\uc694."),X(ce.manager?"":"\ub2f4\ub2f9\uc790 \uc774\ub984\uc744 \uc785\ub825 \ud574 \uc8fc\uc138\uc694."),ee(ce.phoneNumber?"":"\uc5f0\ub77d\ucc98\ub97c \uc785\ub825 \ud574 \uc8fc\uc138\uc694.");if(!(!ce.companyName||!ce.area||!ce.leaderName||!ce.manager||!ce.phoneNumber)){const e=await(0,x.Ud)(ce,se);_(e),w(!1),e.success&&(w(!1),re({area:"",companyName:"",leaderName:"",homepage:"",manager:"",phoneNumber:"",dateConslusion:""}),de())}}catch(e){w(!1),re({area:"",companyName:"",leaderName:"",homepage:"",manager:"",phoneNumber:"",dateConslusion:""})}},areaError:z,companyNameError:K,leaderNameError:J,managerError:W,phoneNumberError:Y,dateConslusionError:ne,formatPhoneNumber:pe}),$&&(0,m.jsx)(S.py,{acceptOkModal:$,setAcceptOkModal:U,uploadResult:T}),A&&(0,m.jsx)(u.HU,{excelModalOpen:A,setExcelModalOpen:P,handleExcelUpload:async()=>{if(G(!0),B){let n=new FormData;n.append("companyfile",B);try{const e=await(0,x.Z9)(n,se);G(!1),_(e),e.success&&(P(!1),Z(!0),F(null))}catch(e){se("\ud30c\uc77c\uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}}},selectedFile:B,setSelectedFile:F,excelOkModal:D,setExcelOkModal:Z,isLoading:q}),M&&(0,m.jsx)(u.V0,{deleteModalOpen:M,setDeleteModalOpen:O,saveCheckBox:l,setSaveCheckBox:o,setListData:a,fetchData:de,setErrorApiInfo:se}),D&&(0,m.jsx)(S.x3,{excelOkModal:D,setExcelOkModal:Z,uploadResult:T}),(0,m.jsxs)("div",{className:"company-buttons",children:[(0,m.jsx)("button",{onClick:()=>{l.length>=1?O(!0):se("\uc0ad\uc81c\ud558\uc2e4 \uae30\uc5c5\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")},children:"\uc0ad\uc81c"}),(0,m.jsx)("button",{onClick:async()=>{(0,x.LS)(R)},children:"\uc5d1\uc140 \ub2e4\uc6b4\ub85c\ub4dc"}),(0,m.jsx)("button",{onClick:()=>{P(!0)},children:"\uc5d1\uc140 \uc5c5\ub85c\ub4dc"}),(0,m.jsx)("button",{onClick:()=>{w(!0),document.body.style.overflow="hidden"},children:"\uae30\uc5c5\ub4f1\ub85d"})]}),(0,m.jsx)("div",{className:"total-count",children:(0,m.jsxs)("span",{children:["\ucd1d ",i,"\uac1c"]})}),(0,m.jsxs)(h,{children:[e&&(0,m.jsx)(I.Z,{}),(0,m.jsx)(g,{listData:t,handleAllCheck:e=>{const n=document.querySelectorAll(".company-checkbox");ie=[],!0===e.target.checked?n.forEach((e=>{e.checked=!0,ie.push(parseInt(e.classList[1].slice(6)))})):(n.forEach((e=>{e.checked=!1})),ie=[]),o(ie)},handleCheckBox:e=>{const n=e.currentTarget,t=parseInt(n.classList[1].slice(6));!0===e.target.checked?ie.push(t):ie=ie.filter((e=>e!==t)),o(ie)},page:c,acceptOkModal:$,setAcceptOkModal:U,uploadResult:T,setUpLoadResult:_,fetchData:de,setErrorApiInfo:se})]}),(0,m.jsx)(N,{page:c,setPage:r,count:i})]}),ae&&(0,m.jsx)(C.Z,{header:"",open:ae,close:()=>{le(!1)},onConfirm:()=>{le(!1)},children:(0,m.jsx)("span",{children:oe})})]})}}}]);