"use strict";(self.webpackChunkgreenjobgo_admin=self.webpackChunkgreenjobgo_admin||[]).push([[661],{3844:(e,n,s)=>{s.d(n,{L2:()=>r,Lp:()=>o,XB:()=>a,av:()=>c});var t=s(5662),i=s(4120);const o=t.Z.create({baseURL:"/api/admin",headers:{"Content-Type":"application/json"}});o.interceptors.request.use((async e=>{const n=(0,i.ej)("accessToken");return n&&(e.headers.Authorization="Bearer ".concat(n)),e}),(e=>Promise.reject(e))),o.interceptors.response.use((e=>e),(async e=>{const{config:n}=e;if(401===((e.response||{}).status||null))try{(0,i.nJ)("refreshToken"),n&&n.headers&&n.headers.Authorization&&(0,i.nJ)("accessToken"),(void 0).props.history.push("/admin/")}catch(e){(void 0).props.history.push("/admin/")}return Promise.reject(e)}));const a=async(e,n,s)=>{try{const t=await o.post("".concat("/sign/sign-in"),{id:e,pw:n}),{data:a}=t,{role:r,refreshToken:c,accessToken:l,id:d,name:h,accessTokenTime:p}=a;if("ROLE_ADMIN"===r&&c&&l)return(0,i.d8)("refreshToken",c),(0,i.d8)("accessToken",l),s(""),{role:r,accessToken:l,refreshToken:c,id:d,name:h,accessTokenTime:p};throw new Error("\uc798\ubabb\ub41c \uc751\ub2f5 \ud615\uc2dd")}catch(t){const{status:e}=t.response;if(t.response)switch(e){case 433:s("\uc544\uc774\ub514\ub97c \ud655\uc778 \ud574 \uc8fc\uc138\uc694.");break;case 434:s("\ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778 \ud574 \uc8fc\uc138\uc694");break;case 500:s("\uc11c\ubc84\uc624\ub958 \uc785\ub2c8\ub2e4.");break;default:s("\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}else s("\ub124\ud2b8\uc6cc\ud06c \uc624\ub958 \ub610\ub294 \uc11c\ubc84 \uc751\ub2f5\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.")}},r=async(e,n)=>{try{await o.post("".concat("/sign/logout"));(0,i.nJ)(e),(0,i.nJ)(n)}catch(s){(void 0).props.history.push("/admin/")}},c=async e=>{try{e((await o.get("".concat("/sign/loginpic"))).data)}catch(n){console.log("\uae5c\uc9dd\ub180\ub7ac\ucc0c?")}}},7307:(e,n,s)=>{s.d(n,{Z:()=>o});s(7313);var t=s(3607),i=s(6417);const o=e=>{let{header:n,open:s,close:o,onConfirm:a,children:r}=e;return(0,i.jsx)(t.be,{children:(0,i.jsx)("div",{className:s?"openOkModal ok-modal":"ok-modal",children:s&&(0,i.jsxs)("div",{className:"modalOk-wrapper",children:[(0,i.jsxs)("div",{className:"ok-modal-header",children:[n,(0,i.jsx)("p",{className:"close",onClick:o,children:(0,i.jsx)("img",{src:"".concat("","/assets/btn_menu_close.png"),alt:"X"})})]}),(0,i.jsxs)("div",{className:"modalOk-content",children:[r,(0,i.jsx)("div",{children:(0,i.jsx)(t.Us,{onClick:a,children:"\ud655\uc778"})})]})]})})})}},1661:(e,n,s)=>{s.r(n),s.d(n,{default:()=>f});var t,i,o=s(7313),a=s(168),r=s(7711),c=s(3607);const l=r.Z.div(t||(t=(0,a.Z)(["\n  width: 100%;\n  height: 100vh;\n"]))),d=r.Z.ul(i||(i=(0,a.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  li {\n    :first-of-type {\n      width: 50%;\n      height: 100vh;\n      img {\n        width: 100%;\n        height: 100vh;\n      }\n    }\n    :last-of-type {\n      display: flex;\n      justify-content: flex-end;\n      align-items: center;\n      flex-direction: column;\n      gap: 30px;\n      margin-right: 12.5%;\n      .login-title {\n        padding-left: 65px;\n      }\n      form {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        flex-direction: column;\n        gap: 25px;\n        div {\n          width: 100%;\n          display: flex;\n          justify-content: flex-end;\n          align-items: center;\n          gap: 20px;\n          font-weight: 600;\n          input {\n            width: 440px;\n            height: 40px;\n            border: 1px solid black;\n            border-radius: 6px;\n            padding: 0 5px;\n          }\n          button {\n            width: 440px;\n            height: 50px;\n            font-size: 16px;\n            font-weight: 600;\n            color: ",";\n            background: ",";\n            border: 1px solid ",";\n            border-radius: 6px;\n            cursor: pointer;\n          }\n        }\n      }\n    }\n  }\n"])),c.Iy.white,c.Iy.admintxt,c.Iy.admintxt);var h=s(3844),p=s(8467),u=s(78),g=s(5380),m=s(7307),x=s(6417);const f=()=>{const[e,n]=(0,o.useState)(""),[s,t]=(0,o.useState)(""),[i,a]=(0,o.useState)(""),[r,c]=(0,o.useState)(!1),[f,j]=(0,o.useState)(!1),[k,y]=(0,o.useState)(""),[v,w]=(0,u.FV)(g.q),T=(0,p.s0)();return(0,o.useEffect)((()=>{(0,h.av)(a),j(!!k)}),[k]),(0,x.jsxs)(l,{children:[(0,x.jsxs)(d,{children:[(0,x.jsx)("li",{children:(0,x.jsx)("img",{src:"".concat("https://greenjobgo.kr").concat(i),alt:"LoginImage"})}),(0,x.jsxs)("li",{children:[(0,x.jsx)("div",{className:"login-title",children:(0,x.jsx)("img",{src:"../../assets/LoginTitle.png",alt:"LoginTitle"})}),(0,x.jsxs)("form",{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"login-id",children:"\uc544\uc774\ub514"}),(0,x.jsx)("input",{type:"text",id:"login-id",placeholder:"\uc544\uc774\ub514\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",value:e,onChange:e=>(e=>{n(e.target.value)})(e),autoComplete:"current-password"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"login-password",children:"\ube44\ubc00\ubc88\ud638"}),(0,x.jsx)("input",{type:"password",id:"login-password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",value:s,onChange:e=>(e=>{t(e.target.value)})(e),autoComplete:"current-password"})]}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{onClick:async n=>{if(n.preventDefault(),e)if(s)try{const{role:n,accessToken:t,refreshToken:i,id:o,name:a,accessTokenTime:r}=await(0,h.XB)(e,s,y);"ROLE_ADMIN"===n&&t?(w({isLogin:!0,accessToken:t,refreshToken:i,role:n,id:o,name:a}),T("/admin/home"),console.log("\uc561\uc138\uc2a4\ud1a0\ud070",t),console.log("\ub9ac\ud504\ub808\uc2dc\ud1a0\ud070",i),setTimeout((()=>{i&&((0,h.L2)(t,i),w({isLogin:!1,accessToken:null,refreshToken:null,role:"",id:"",name:""}),T("/admin/"))}),r)):T("/admin/")}catch(t){}else y("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825 \ud574 \uc8fc\uc138\uc694.");else y("\uc544\uc774\ub514\ub97c \uc785\ub825 \ud574 \uc8fc\uc138\uc694.")},children:"\ub85c\uadf8\uc778"})})]})]})]}),f&&(0,x.jsx)(m.Z,{header:"",open:f,close:()=>{j(!1),y("")},onConfirm:()=>{j(!1),y("")},children:(0,x.jsx)("span",{children:k})})]})}}}]);