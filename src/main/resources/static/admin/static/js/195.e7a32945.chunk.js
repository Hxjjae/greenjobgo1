"use strict";(self.webpackChunkgreenjobgo_admin=self.webpackChunkgreenjobgo_admin||[]).push([[195],{2195:(e,s,i)=>{i.r(s),i.d(s,{default:()=>u});var l=i(7313),n=i(6476),c=i(2549),o=i(5743),a=i(3564),t=i(5044),r=i(259),d=i(1309),h=i(8467),j=i(6702),x=i(4509),p=i(7013),f=i(3607),m=i(6417);const u=()=>{const[e,s]=(0,l.useState)(!1),[i,u]=(0,l.useState)(""),[k,v]=(0,l.useState)(!1),[N,S]=(0,l.useState)(null),[g,b]=(0,l.useState)(""),[y,C]=(0,l.useState)(""),[F,w]=(0,l.useState)(2),[L,G]=(0,l.useState)(0),[O,D]=(0,l.useState)(!1),[M,Z]=(0,l.useState)(!1),[_,I]=(0,l.useState)(!1),[W,Y]=(0,l.useState)(!1),[A,P]=(0,l.useState)(!1),[U,z]=(0,l.useState)(0),[E,B]=(0,l.useState)(""),[H,J]=(0,l.useState)({portFolio:[],fileLinks:[]}),R=(0,h.s0)(),T=(0,h.TH)().state,q=null===T||void 0===T?void 0:T.istudent,K=()=>{(0,t.S4)(q,J,u)};(0,l.useEffect)((()=>{K()}),[q,U]);const Q=async e=>{G(e),Y(!0)},V=(e,s)=>{e.target.checked?(B([s]),z(0),P(!0)):(B([s]),z(1),P(!0))};return(0,l.useEffect)((()=>{s(!!i)}),[i,U]),(0,m.jsxs)(n.jO,{children:[O&&(0,m.jsx)(p.Z,{}),W&&(0,m.jsx)(a.cf,{deleteOkModal:W,handleOkClick:async()=>{try{!0===(await(0,t._I)(L)).success&&(Y(!1),K())}catch(e){Y(!1),u("\uc815\uc0c1\uc801\uc73c\ub85c \ucc98\ub9ac \ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.")}},handleCancelClick:()=>{Y(!1)}}),A&&(0,m.jsx)(x.Z,{open:A,close:()=>P(!1),onConfirm:async()=>{await(0,t.BJ)(q,E,u),await P(!1),K()},onCancel:()=>P(!1),children:0===U?(0,m.jsx)("span",{children:"\ub300\ud45c \ud3ec\ud2b8\ud3f4\ub9ac\uc624\ub85c \ub4f1\ub85d \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}):(0,m.jsx)("span",{children:"\ub300\ud45c \ud3ec\ud2b8\ud3f4\ub9ac\uc624\ub97c \ub4f1\ub85d \ucde8\uc18c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"})}),(0,m.jsxs)("ul",{className:"portfolio-list",children:[(0,m.jsxs)("li",{children:[(0,m.jsx)("h2",{children:"\ud3ec\ud2b8\ud3f4\ub9ac\uc624"}),(0,m.jsx)("button",{onClick:()=>{Z(!0)},className:"upload-btn",children:"+ \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \ud30c\uc77c \ub610\ub294 \ub9c1\ud06c \ucd94\uac00"})]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("div",{children:H&&H.portFolio&&H.portFolio.length>0?H.portFolio.map((e=>(0,m.jsxs)("div",{className:"portfolio-box",children:[(0,m.jsxs)("div",{className:"portfolio-inner",children:[(0,m.jsxs)("div",{className:"portfolio-top",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:(0,m.jsx)(r.G,{icon:d.gSj,color:f.Iy.grayDeep})}),(0,m.jsxs)("a",{href:"".concat("https://greenjobgo.kr/img/student","/").concat(T.istudent,"/").concat(e.file),target:"_blank",rel:"noopener noreferrer",children:["\xa0",e.originFileName]})]}),(0,m.jsxs)("div",{className:"portfolio-icons",children:[1===e.mainYn?(0,m.jsx)("div",{className:"main-pofol",children:(0,m.jsxs)("span",{children:[(0,m.jsx)(r.G,{icon:d.nmd,style:{color:"#fff"}}),"\ub300\ud45c"]})}):"",(0,m.jsx)("p",{className:"delete-icon",children:(0,m.jsx)(r.G,{onClick:()=>Q(e.ifile),icon:d.WA2})})]})]}),(0,m.jsx)("div",{className:"portfolio-btm",children:(0,m.jsx)("span",{children:e.oneWord})})]}),(0,m.jsx)("div",{className:"main-check",children:(0,m.jsx)("input",{type:"checkbox",value:e.ifile,checked:1===e.mainYn,onChange:s=>V(s,e.ifile)})})]},(0,c.Z)()))):(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:"portfolio-zero",children:(0,m.jsx)("span",{children:"\ub4f1\ub85d\ub41c \ud3ec\ud2b8\ud3f4\ub9ac\uc624 PDF \ud30c\uc77c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})})}),(0,m.jsx)("div",{children:H&&H.fileLinks&&H.fileLinks.length>0?H.fileLinks.map((e=>(0,m.jsxs)("div",{className:"portfolio-box",children:[(0,m.jsxs)("div",{className:"portfolio-inner",children:[(0,m.jsxs)("div",{className:"portfolio-top",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:(0,m.jsx)(r.G,{icon:d.nNP,color:f.Iy.grayDeep})}),(0,m.jsxs)("a",{href:"https://".concat(e.fileLink),target:"_blank",rel:"noopener noreferrer",children:["\xa0",e.fileLink]})]}),(0,m.jsxs)("div",{className:"portfolio-icons",children:[1===e.mainYn?(0,m.jsx)("div",{className:"main-pofol",children:(0,m.jsxs)("span",{children:[(0,m.jsx)(r.G,{icon:d.nmd,style:{color:"#fff"}}),"\ub300\ud45c"]})}):"",(0,m.jsx)("div",{children:(0,m.jsx)("p",{className:"delete-icon",children:(0,m.jsx)(r.G,{onClick:()=>Q(e.ifile),icon:d.WA2,style:{color:"#6d6d6d"}})})})]})]}),(0,m.jsx)("div",{className:"portfolio-btm",children:(0,m.jsx)("span",{children:e.oneWord})})]}),(0,m.jsx)("div",{className:"main-check",children:(0,m.jsx)("input",{type:"checkbox",value:e.ifile,checked:1===e.mainYn,onChange:s=>V(s,e.ifile)})})]},(0,c.Z)()))):(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:"portfolio-zero",children:(0,m.jsx)("span",{children:"\ub4f1\ub85d\ub41c \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \ub9c1\ud06c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})})})]})]}),(0,m.jsx)("div",{className:"buttons",children:(0,m.jsx)("div",{children:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("button",{onClick:()=>{R("/admin/student/".concat(q))},children:"\ud655\uc778"})})})}),M&&(0,m.jsx)(o.M1,{modalOpen:M,handlePofolModalCancel:()=>{Z(!1)},iFile:F,setIFile:w,selectedFile:N,setSelectedFile:S,description:g,setDescription:b,linkUrl:y,setLinkUrl:C,handleFileUpload:async()=>{if(D(!0),F&&(2===F||3===F)){let s=new FormData;s.append("file",N);try{const e=await(0,t.dS)(q,F,s,g,y,u);D(!1),v(e),!0===e.success&&(Z(!1),I(!0),w(2),S(null),C(""),b(""),K())}catch(e){Z(!1),I(!0),w(2),S(null),C(""),b(""),K()}}}}),_&&(0,m.jsx)(a.py,{acceptOkModal:_,setAcceptOkModal:I,uploadResult:k}),e&&(0,m.jsx)(j.Z,{header:"",open:e,close:()=>{s(!1),u("")},onConfirm:()=>{s(!1),u("")},children:(0,m.jsx)("span",{children:i})})]})}}}]);